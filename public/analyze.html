<!doctype html>
<html lang="zh-CN">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>AI ææ¡ˆåˆ†æå™¨ - AstraCoin</title>
<style>
body{background:#0f0f23;color:#fff;font-family:Arial;padding:20px;}
.card{background:#11131f;padding:20px;border-radius:10px;border:1px solid rgba(255,255,255,0.08);}
input,textarea{width:100%;padding:12px;border-radius:8px;background:#1a1d2e;border:1px solid #333;color:#fff;margin-top:10px;}
button{margin-top:15px;padding:12px;width:100%;background:#00ff88;color:#000;border:none;font-size:16px;border-radius:8px;}
button:hover{opacity:0.85;}
pre{white-space:pre-wrap;background:#1a1d2e;padding:15px;border-radius:10px;margin-top:20px;}
</style>
</head>

<body>

<h1>ğŸ§  AI ææ¡ˆåˆ†æå™¨</h1>

<div class="card">
  <label>ææ¡ˆæ ‡é¢˜</label>
  <input id="title" placeholder="è¾“å…¥æ ‡é¢˜"/>

  <label>ææ¡ˆå†…å®¹</label>
  <textarea id="content" rows="5" placeholder="è¾“å…¥ææ¡ˆå†…å®¹"></textarea>

  <button onclick="analyze()">æäº¤ç»™ AI åˆ†æ</button>
</div>

<pre id="result">ç­‰å¾…åˆ†æ...</pre>

<script>
async function analyze() {
  const title = document.getElementById("title").value;
  const content = document.getElementById("content").value;

  const res = await fetch("/api/analyze", {
    method:"POST",
    headers:{"Content-Type":"application/json"},
    body:JSON.stringify({ title, content })
  });

  document.getElementById("result").textContent = await res.text();
}
</script>

</body<div class="container">
  <h1>åˆ›å»ºæ–°ææ¡ˆ</h1>

  <form id="proposalForm">
    <label>ææ¡ˆæ ‡é¢˜</label>
    <input type="text" id="title" required />

    <label>ææ¡ˆå†…å®¹ï¼ˆæè¿°ï¼‰</label>
    <textarea id="description" rows="5" required></textarea>

    <label>é¢„ç®—é‡‘é¢ï¼ˆUSDï¼Œå¯é€‰ï¼‰</label>
    <input type="number" id="budget" placeholder="å¯ä¸å¡«" />

    <button type="submit">æäº¤ææ¡ˆ</button>
  </form>

  <p id="status" style="margin-top:20px;color:#0a0;"></p>
</div>>
</html>
<script>
  const form = document.getElementById("proposalForm");
  const status = document.getElementById("status");

  form.addEventListener("submit", async (e) => {
    e.preventDefault();

    status.textContent = "æäº¤ä¸­ï¼Œè¯·ç¨ç­‰â€¦";

    const title = document.getElementById("title").value.trim();
    const description = document.getElementById("description").value.trim();
    const budget = document.getElementById("budget").value;

    try {
      const res = await fetch("/api/analyze", {
        method: "POST",
        headers: {
          "Content-Type": "application/json"
        },
        body: JSON.stringify({
          title,
          description,
          budget
        })
      });

      const data = await res.json();

      if (res.ok) {
        status.style.color = "#0a0";
        status.textContent = "ææ¡ˆå·²æäº¤æˆåŠŸï¼";
      } else {
        status.style.color = "red";
        status.textContent = "æäº¤å¤±è´¥ï¼š" + data.error;
      }
    } catch (err) {
      status.style.color = "red";
      status.textContent = "ç½‘ç»œé”™è¯¯ï¼Œè¯·ç¨åé‡è¯•";
    }
  });
</script>